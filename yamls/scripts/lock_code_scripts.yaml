lock_clear_temp_code:
  alias: Lock Clear Temp Code
  sequence:
    - delay: 00:00:05
    - service: scene.turn_on
      entity_id: scene.clear_temp_code
    - service: input_select.select_option
      data:
        entity_id: input_select.temp_code_single_use
        option: "Yes"

lock_set_temp_lock_code_input_number:
  alias: Lock Set Temp Lock Code Input Number
  sequence:
    - delay: 00:00:05
    - service: rest_command.set_temp_lock_code
    - delay: 00:00:10
    - service: input_number.set_value
      data:
        entity_id: input_number.lock_code_temp
        value: '0.0'
    - delay: 00:00:60
    - condition: state
      entity_id: input_boolean.temp_lock_code_set
      state: 'off'
    - service: notify.html5
      data_template:
        message: "Temporary Lock Code Did Not Update"
        title: "Temporary Lock Code Not On"
        data:
          tag: 'lock_not_updated'
          renotify: 0
          icon: '/local/lock.jpg'
          badge: '/local/lock-badge.png'

lock_clear_parents_lock_code:
  alias: Lock Clear Parents Lock Code
  sequence:
    - delay: 00:00:05
    - service: scene.turn_on
      entity_id: scene.clear_parents_code

lock_set_parents_lock_code:
  alias: Lock Set Parents Lock Code
  sequence:
    - delay: 00:00:05
    - service: scene.turn_on
      entity_id: scene.add_parents_code

lock_toggle_parents_lock_code:
  alias: Lock Toggle Parents Lock Code
  sequence:
    - service_template: >
          {%- if is_state('input_boolean.parents_lock_code', 'on') %}
            script.lock_clear_parents_lock_code
          {% else %}
            script.lock_set_parents_lock_code
          {% endif %}