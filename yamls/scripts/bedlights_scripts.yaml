bed_light_adjust_input_number:
  alias: Set Bed Input Slider
  sequence:
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.bed_light_script_running
    - delay: 00:00:03
    - service: input_number.set_value
      data_template:
        entity_id: input_number.bed_brightness
        value: '{{ states.sensor.bed_brightness_percent.state | multiply(2.55) | int }}'
    - delay: 00:00:03
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.bed_light_script_running


bed_light_set_brightness:
  alias: Set Bed Brightness
  sequence:
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.bed_light_script_running
    - service: light.turn_on
      entity_id: light.bed
      data_template:
        transition: 3
        brightness: '{{ states.input_number.bed_brightness.state | int }}'
    - delay: 00:00:03
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.bed_light_script_running
        
bed_light_off:
  alias: Bed Light Off
  sequence:
    - service: input_boolean.turn_on
      data:
        entity_id: input_boolean.bed_light_script_running
    - delay: 00:00:02
    - service: light.turn_off
      entity_id: light.bed
    - service: input_number.set_value
      data:
        entity_id: input_number.bed_brightness
        value: 0
    - delay: 00:00:10
    - service: input_boolean.turn_off
      data:
        entity_id: input_boolean.bed_light_script_running