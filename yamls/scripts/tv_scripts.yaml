tv_on:
  alias: TV On
  sequence:
    - service: shell_command.stop_tv_status_monitor
    - service: switch.turn_on
      entity_id: switch.tv_power
    - service: shell_command.tv_on
    - service: script.tv_input_group_toggle_visible
    - delay: 00:00:30
    - service: shell_command.start_tv_status_monitor

tv_off:
  alias: TV Off
  sequence:
    - service: shell_command.stop_tv_status_monitor
    - service: media_player.turn_off
      entity_id: media_player.living_room_tv
    - delay: 00:00:10
    - service: shell_command.tv_off
    - delay: 00:00:20
    - service: shell_command.start_tv_status_monitor

tv_input_chromecast:
  alias: TV Input Chromecast
  sequence:
    - service: shell_command.tv_input_chromecast

tv_input_playstation:
  alias: TV Input PS4
  sequence:
    - service: shell_command.tv_input_ps4

tv_input_group_toggle_visible:
  alias: TV Input Group Toggle Visible
  sequence:
    - service: group.set_visibility
      data_template:
        entity_id: group.tv_input
        visible: "{{ is_state('switch.tv_power', 'on') }}"