  - platform: rest
    resource: !secret get_last_lock_code
    name: last_lock_code_used
  - platform: template
    sensors:
      last_lock_code_name:
        friendly_name: Last Lock Code
        value_template: >-
          {%- if 'Temporary' in states.sensor.last_lock_code_used.state %}
              Temp
          {%  elif 'Neil' in states.sensor.last_lock_code_used.state %}
              Neil
          {%  elif 'Gina' in states.sensor.last_lock_code_used.state %}
              Gina
          {%  elif 'Parents' in states.sensor.last_lock_code_used.state %}
              Parents
          {%  elif 'Guest' in states.sensor.last_lock_code_used.state %}
              Guest
          {% else %}
              Blank
          {%- endif %}
        entity_picture_template: >-
          {%- if 'Neil' in states.sensor.last_lock_code_used.state %}
              /local/pictures/Me.jpg
          {%  elif 'Parents' in states.sensor.last_lock_code_used.state %}
              /local/pictures/mom-dad.jpg
          {%  elif 'Gina' in states.sensor.last_lock_code_used.state %}
              /local/pictures/gina.jpg
          {% else %}
              /local/pictures/guest.png
          {%- endif %}
      schlage_camelot_battery:
        friendly_name: Last Battery
        value_template: >-
            {{ states.lock.schlage_camelot_99.attributes.battery_level }}
      lock_set_temp_code_input_number:
        entity_id: input_number.lock_code_temp
        value_template: >
          {% if (states.input_number.lock_code_temp.state | int) > 1000 %}
            {{ states.input_number.lock_code_temp.state | int }}
          {% else %}
            0
          {% endif %}
