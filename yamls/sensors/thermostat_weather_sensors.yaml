  - platform: darksky
    api_key: !secret darksky_api_key
    forecast:
      - 0
    hourly_forecast:
      - 0
      - 1
    scan_interval:
      minutes: 10
    monitored_conditions:
      - summary
      - icon
      - nearest_storm_distance
      - precip_intensity
      - precip_probability
      - temperature
      - apparent_temperature
      - dew_point
      - wind_speed
      - cloud_cover
      - humidity
      - visibility
      - minutely_summary
      - hourly_summary
      - daily_summary
      - temperature_high
      - temperature_low
      - apparent_temperature_high
      - apparent_temperature_low
      - precip_intensity_max
      - moon_phase

  - platform: illuminance
    entity_id: sensor.dark_sky_icon

  - platform: template
    sensors:
      temp:
        friendly_name: "Temperature Description"
        value_template: >-
          {%- if states.sensor.dark_sky_apparent_temperature.state | int < 32 -%}
              ReallyFuckingCold
          {%  elif states.sensor.dark_sky_apparent_temperature.state | int < 40 -%}
              Cold
          {%  elif states.sensor.dark_sky_apparent_temperature.state | int < 60 -%}
              Cold
          {%  elif states.sensor.dark_sky_apparent_temperature.state | int > 85 -%}
              FuckingHot
          {%  elif states.sensor.dark_sky_apparent_temperature.state | int > 100 -%}
              FuckingHot
          {%  elif states.sensor.dark_sky_apparent_temperature.state | int > 78 -%}
              Hot
          {%  elif states.sensor.dark_sky_apparent_temperature.state | int > 70 -%}
              Warm
          {% else %}
              Pleasant
          {% endif %}
      precipitation_soon:
        friendly_name: "Precipitation Soon"
        value_template: >-
          {%- if (states.sensor.dark_sky_precip_probability.state > "50") and "Rain" in states.sensor.dark_sky_minutely_summary.state %}
              Rain
          {%  elif (states.sensor.dark_sky_precip_probability.state > "50") and "rain" in states.sensor.dark_sky_minutely_summary.state %}
              Rain
          {%  elif (states.sensor.dark_sky_precip_probability.state > "50") and "Drizzle" in states.sensor.dark_sky_minutely_summary.state %}
              Rain
          {%  elif (states.sensor.dark_sky_precip_probability.state > "50") and "drizzle" in states.sensor.dark_sky_minutely_summary.state %}
              Rain
          {%- elif (states.sensor.dark_sky_precip_probability.state > "50") and "Snow" in states.sensor.dark_sky_minutely_summary.state %}
              Snow
          {%  elif (states.sensor.dark_sky_precip_probability.state > "50") and "snow" in states.sensor.dark_sky_minutely_summary.state %}
              Snow
          {%- elif (states.sensor.dark_sky_precip_probability.state > "50") and "sleet" in states.sensor.dark_sky_minutely_summary.state %}
              Sleet
          {%  elif (states.sensor.dark_sky_precip_probability.state > "50") and "Sleet" in states.sensor.dark_sky_minutely_summary.state %}
              Sleet
          {% else %}
              None
          {%- endif %}