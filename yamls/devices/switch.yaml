  - platform: template
    switches:
      temp_lock_code:
        value_template: "{{ is_state('binary_sensor.temp_lock_code', 'on') }}"
        turn_on:
          service: script.lock_temp_code_popup
        turn_off:
          service: scene.turn_on
          data:
            entity_id: scene.temp_code_off
      parents_lock_code:
        value_template: "{{ is_state('binary_sensor.parents_lock_code', 'on') }}"
        turn_on:
          service: scene.turn_on
          data:
            entity_id: scene.parents_code_on
        turn_off:
          service: scene.turn_on
          data:
            entity_id: scene.parents_code_off
      guest_lock_code:
        value_template: "{{ is_state('binary_sensor.guest_lock_code', 'on') }}"
        turn_on:
          service: scene.turn_on
          data:
            entity_id: scene.guest_code_on
        turn_off:
          service: scene.turn_on
          data:
            entity_id: scene.guest_code_off
  - platform: rest
    name: TV
    resource: http://localhost:5000/device/0/power
    body_on: '{"state":"on"}'
    body_off: '{"state":"off"}'
    is_on_template: '{{ value_json.state == "starting" or value_json.state == "on" }}'
