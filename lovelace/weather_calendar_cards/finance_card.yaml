type: custom:vertical-stack-in-card
cards:
  - type: 'custom:config-template-card'
    entities:
      - sensor.portfolio_change
    card:
      type: 'custom:card-modder'
      style:
        --paper-item-icon-color: "${ states['sensor.portfolio_change'].state > '0' ? '#00ff00' : '#ff0000' }"
      card:
        type: 'custom:hui-entities-card'
        title: Stocks
        show_header_toggle: false
        entities:
          - sensor.portfolio_change
  - type: custom:card-modder
    style:
      --paper-item-icon-color: '#00ff00'
    card:
      type: custom:auto-entities
      card:
        type: entities
        title: Up
        show_header_toggle: false
      filter:
        include:
          - entity_id: sensor.stock_*
            options:
              type: "custom:secondaryinfo-entity-row"
              secondary_info: "Percent:<b style='color:green'> [[ {entity}.attributes.changePercent ]]% </b> Change: <b style='color:green'>$[[ {entity}.attributes.change ]] </b>"
            attributes:
              change: "> 0"
  - type: custom:card-modder
    style:
      --paper-item-icon-color: '#ff0000'
    card:
      type: custom:auto-entities
      card:
        type: entities
        title: Down
        show_header_toggle: false
      filter:
        include:
          - entity_id: sensor.stock_*
            options:
              type: "custom:secondaryinfo-entity-row"
              secondary_info: "Percent:<b style='color:red'> [[ {entity}.attributes.changePercent ]]%</b> Change: <b style='color:red'>$[[ {entity}.attributes.change ]] </b>"
            attributes:
              change: "< 0"