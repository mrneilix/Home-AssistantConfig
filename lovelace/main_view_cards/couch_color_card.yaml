type: conditional
conditions:
  - entity: light.couch
    state: 'on'
card:
  type: vertical-stack
  cards:
    - type: horizontal-stack
      cards:
        - type: 'custom:button-card'
          name: White
          entity: script.couch_white
          tap_action:
            action: call-service
            service: script.couch_white
          state:
            - value: 'off'
              color: 'rgb(255, 255, 255)'
            - value: 'on'
              color: 'rgb(255, 255, 255)'
          color_type: icon
          icon: mdi:sofa
        - type: 'custom:button-card'
          name: Soft White
          entity: script.couch_soft_white
          tap_action:
            action: call-service
            service: script.couch_soft_white
          state:
            - value: 'off'
              color: 'rgb(255, 242, 230)'
            - value: 'on'
              color: 'rgb(255, 242, 230)'
          color_type: icon
          icon: mdi:sofa
        - type: 'custom:button-card'
          name: Blue
          entity: script.couch_blue
          tap_action:
            action: call-service
            service: script.couch_blue
          state:
            - value: 'off'
              color: 'rgb(0, 0, 255)'
            - value: 'on'
              color: 'rgb(0, 0, 255)'
          color_type: icon
          icon: mdi:sofa
    - type: horizontal-stack
      cards:
        - type: 'custom:button-card'
          name: Red
          entity: script.couch_red
          tap_action:
            action: call-service
            service: script.couch_red
          state:
            - value: 'off'
              color: 'rgb(255, 0, 0)'
            - value: 'on'
              color: 'rgb(255, 0, 0)'
          color_type: icon
          icon: mdi:sofa
        - type: 'custom:button-card'
          name: Green
          entity: script.couch_green
          tap_action:
            action: call-service
            service: script.couch_green
          state:
            - value: 'off'
              color: 'rgb(0, 255, 0)'
            - value: 'on'
              color: 'rgb(0, 255, 0)'
          color_type: icon
          icon: mdi:sofa
        - type: 'custom:button-card'
          name: Purple
          entity: script.couch_purple
          tap_action:
            action: call-service
            service: script.couch_purple
          state:
            - value: 'off'
              color: 'rgb(255, 0, 255)'
            - value: 'on'
              color: 'rgb(255, 0, 255)'
          color_type: icon
          icon: mdi:sofa
    - type: entities
      entities:
        - input_text.couch_color
        - input_number.couch_r
        - input_number.couch_g
        - input_number.couch_b